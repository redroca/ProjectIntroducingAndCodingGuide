<!doctype html>
<html lang='en'>
<head>
<meta charset='utf-8'>
<title>CodingGuidelinesForMagicCloud</title><style type='text/css'>html, body {overflow-x: initial !important;}.CodeMirror { height: auto; }
.CodeMirror-scroll { overflow-y: hidden; overflow-x: auto; }
.CodeMirror-lines { padding: 4px 0px; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler { background-color: white; }
.CodeMirror-gutters { border-right-width: 1px; border-right-style: solid; border-right-color: rgb(221, 221, 221); background-color: rgb(247, 247, 247); white-space: nowrap; }
.CodeMirror-linenumbers { }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: rgb(153, 153, 153); }
.CodeMirror div.CodeMirror-cursor { border-left-width: 1px; border-left-style: solid; border-left-color: black; z-index: 3; }
.CodeMirror div.CodeMirror-secondarycursor { border-left-width: 1px; border-left-style: solid; border-left-color: silver; }
.CodeMirror.cm-keymap-fat-cursor div.CodeMirror-cursor { width: auto; border: 0px; background-color: rgb(119, 238, 119); z-index: 1; background-position: initial initial; background-repeat: initial initial; }
.CodeMirror div.CodeMirror-cursor.CodeMirror-overwrite { }
.cm-tab { display: inline-block; }
.cm-s-default .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-default .cm-atom { color: rgb(34, 17, 153); }
.cm-s-default .cm-number { color: rgb(17, 102, 68); }
.cm-s-default .cm-def { color: rgb(0, 0, 255); }
.cm-s-default .cm-variable { color: black; }
.cm-s-default .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-default .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-default .cm-property { color: black; }
.cm-s-default .cm-operator { color: black; }
.cm-s-default .cm-comment { color: rgb(170, 85, 0); }
.cm-s-default .cm-string { color: rgb(170, 17, 17); }
.cm-s-default .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-default .cm-meta { color: rgb(85, 85, 85); }
.cm-s-default .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-default .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-default .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-default .cm-tag { color: rgb(17, 119, 0); }
.cm-s-default .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-default .cm-header { color: blue; }
.cm-s-default .cm-quote { color: rgb(0, 153, 0); }
.cm-s-default .cm-hr { color: rgb(153, 153, 153); }
.cm-s-default .cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: bold; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-s-default .cm-error { color: rgb(255, 0, 0); }
.cm-invalidchar { color: rgb(255, 0, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.CodeMirror-activeline-background { background-color: rgb(232, 242, 255); background-position: initial initial; background-repeat: initial initial; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { margin-bottom: -30px; margin-right: -30px; padding-bottom: 30px; padding-right: 30px; height: 100%; outline: none; position: relative; box-sizing: content-box; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler { position: absolute; z-index: 6; display: none; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow-x: hidden; overflow-y: scroll; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow-y: hidden; overflow-x: scroll; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 30px; z-index: 3; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; border-width: 0px; background-color: transparent; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; word-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; background-position: initial initial; background-repeat: initial initial; }
.CodeMirror-wrap pre { word-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right-width: 30px; border-right-style: solid; border-right-color: transparent; width: -webkit-fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right-style: none; width: auto; }
.CodeMirror-linebackground { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-widget { }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right-style: none; width: 0px; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: visible; }
.CodeMirror-selected { background-color: rgb(217, 217, 217); background-position: initial initial; background-repeat: initial initial; }
.CodeMirror-focused .CodeMirror-selected { background-color: rgb(215, 212, 240); background-position: initial initial; background-repeat: initial initial; }
.cm-searching { background-color: rgba(255, 255, 0, 0.4); background-position: initial initial; background-repeat: initial initial; }
.CodeMirror span { }
@media print { 
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


html { font-size: 14px; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 1rem; line-height: 1.42857143; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255); overflow-x: hidden; }
a:active, a:hover { outline: 0px; }
::selection { background-color: rgb(181, 214, 252); text-shadow: none; background-position: initial initial; background-repeat: initial initial; }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; white-space: pre-wrap; text-align: justify; padding-bottom: 70px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export #write { margin: 0px auto; }
#write > p:first-child, #write > ul:first-child, #write > pre:first-child, #write > blockquote:first-child, #write > div:first-child { margin-top: 30px; }
img { max-width: 100%; }
input, button, select, textarea { color: inherit; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; font-weight: inherit; line-height: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
::before, ::after, * { box-sizing: border-box; }
#write p, #write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write div, #write pre { width: inherit; }
h1 { font-size: 2rem; }
p, .mathjax-block { display: block; -webkit-margin-before: 1rem; -webkit-margin-after: 1rem; -webkit-margin-start: 0px; -webkit-margin-end: 0px; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: bold; font-style: italic; }
a { cursor: pointer; }
li span { min-width: 10px; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; margin: 4px 0px 0px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; }
table.md-table td { min-width: 80px; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror-code pre { padding: 0px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
.md-fences, pre.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; position: relative !important; }
.md-fences .CodeMirror.cm-s-default.CodeMirror-wrap { top: -1.6em; margin-bottom: -1.6em; }
.md-fences.mock-cm { white-space: pre-wrap; }
.footnotes { color: rgb(136, 136, 136); font-size: 0.9rem; padding-top: 1em; padding-bottom: 1em; }
.footnotes + .footnotes { margin-top: -1em; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background-color: transparent; text-decoration: none; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 1rem; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; line-height: normal; font-weight: normal; text-align: left; box-sizing: content-box; direction: ltr; background-position: initial initial; background-repeat: initial initial; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li p, li .mathjax-block { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; }
@media print { 
  html, body { height: 100%; }
  .typora-export * { -webkit-print-color-adjust: exact; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
#write pre.md-meta-block { font-size: 0.8rem; min-height: 2.86rem; white-space: pre; background-color: rgb(204, 204, 204); display: block; background-position: initial initial; background-repeat: initial initial; }
p > .md-image:only-child { display: inline-block; width: 100%; text-align: center; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.mathjax-block { white-space: pre; padding-bottom: 0.65rem; overflow: hidden; width: 100%; }
p + .mathjax-block { margin-top: -1.143rem; }
.mathjax-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus { outline: none; box-shadow: none; }
:focus { outline: none; box-shadow: rgb(79, 172, 249) 0px 0px 2px 3px, rgb(120, 174, 218) 0px 0px 2px inset; }
.task-list { list-style-type: none; }
.task-list-item { position: relative; padding-left: 1em; }
.task-list-item input { position: absolute; top: 0px; left: 0px; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc::after, .md-toc-content::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: bold; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
.md-toc-h6 { margin-left: 12em; }
@media screen and (max-width: 48em) { 
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 8em; }
  .md-toc-h6 { margin-left: 9.5em; }
}
a.md-toc-inner { color: inherit; font-size: inherit; font-style: inherit; font-weight: inherit; text-decoration: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: '.'; }
.md-tag { opacity: 0.5; }
h1 .md-tag, h2 .md-tag, h3 .md-tag, h4 .md-tag, h5 .md-tag, h6 .md-tag { font-weight: initial; opacity: 0.35; }


html { font-size: 16px; }
html, body { background-color: rgb(54, 59, 64); background-position: initial initial; background-repeat: initial initial; }
#write { max-width: 854px; }
html, body, button, input, select, textarea, div.code-tooltip-content { color: rgb(184, 191, 198); }
div.code-tooltip, .md-hover-tip .md-arrow::after { background-color: rgb(75, 83, 90); background-position: initial initial; background-repeat: initial initial; }
.popover.bottom > .arrow::after { border-bottom-color: rgb(75, 83, 90); }
html, body, button, input, select, textarea { font-style: normal; line-height: 1.625rem; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
hr { height: 2px; border: 0px; margin: 50px 0px !important; }
h1, h2, h3, h4, h5, h6 { font-family: 'Lucida Grande', Corbal, Georgia, serif; font-weight: normal; clear: both; word-wrap: break-word; margin: 0px; padding: 0px; }
h1 { font-size: 2.25rem; line-height: 2.5rem; margin-bottom: 1.5rem; letter-spacing: -1.5px; }
h2 { font-size: 1.5rem; line-height: 1.875rem; margin-bottom: 1.5rem; letter-spacing: -1px; }
h3 { font-size: 1.125rem; line-height: 1.5rem; margin-bottom: 1.5rem; letter-spacing: -1px; }
h4 { font-size: 1rem; line-height: 1.375rem; margin-bottom: 1.5rem; }
h5 { font-size: 1rem; line-height: 1.25rem; margin-bottom: 1.5rem; }
h6 { font-size: 1rem; line-height: 1rem; margin-bottom: 0.75rem; padding-bottom: 8px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; display: inline-block; font-weight: bold; }
a { text-decoration: none; outline: 0px; }
a:hover { outline: 0px; }
a:focus { outline: dotted thin; }
p { word-wrap: break-word; }
p, ul, dd, ol, hr, address, pre, table, iframe, .wp-caption, .wp-audio-shortcode, .wp-video-shortcode { margin-top: 0px; margin-bottom: 1.5rem; }
audio:not([controls]) { display: none; }
[hidden] { display: none; }
::selection { background-color: rgb(74, 137, 220); color: rgb(255, 255, 255); text-shadow: none; background-position: initial initial; background-repeat: initial initial; }
ul, ol { padding: 0px 0px 0px 1.875rem; }
ul { list-style: square; }
ol { list-style: decimal; }
ul ul, ol ol, ul ol, ol ul { margin: 0px; }
b, th, dt, strong { font-weight: bold; }
i, em, dfn, cite { font-style: italic; }
blockquote { margin: 35px 0px 1.875rem 1.875rem; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(71, 77, 84); padding-left: 30px; }
pre, code, kbd, tt, var { background-color: rgba(0, 0, 0, 0.0470588); font-size: 0.875rem; font-family: Monaco, Consolas, 'Andale Mono', 'DejaVu Sans Mono', monospace; background-position: initial initial; background-repeat: initial initial; }
pre.md-fences { padding: 10px 30px; margin-bottom: 20px; }
code, kbd, tt, var { padding: 2px 5px; }
table { max-width: 100%; width: 100%; border-collapse: collapse; border-spacing: 0px; }
th, td { padding: 5px 10px; vertical-align: top; }
a { transition: all 0.2s ease-in-out; }
hr { background-color: rgb(71, 77, 84); background-position: initial initial; background-repeat: initial initial; }
#write > :first-child { margin-top: 40px; }
h1 { margin-top: 2em; }
h1, h2, h3, h4, h5, h6 { color: rgb(222, 222, 222); }
h6 { border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: rgb(71, 77, 84); }
a { color: rgb(224, 224, 224); text-decoration: underline; }
a:hover { color: rgb(255, 255, 255); }
b, th, dt, strong { color: rgb(222, 222, 222); }
blockquote { color: rgb(157, 162, 166); }
table a { color: rgb(222, 222, 222); }
th, td { border: 1px solid rgb(71, 77, 84); }
.task-list { padding-left: 0px; }
.task-list-item { padding-left: 1.25rem; }
.task-list-item input { top: 0.1875rem; }
.task-list-item input::before { content: ''; display: inline-block; width: 0.875rem; height: 0.875rem; vertical-align: middle; text-align: center; border: 1px solid rgb(184, 191, 198); background-color: rgb(54, 59, 64); margin-top: -0.4375rem; }
.task-list-item input:checked::before, .task-list-item input[checked]::before { content: '√'; font-size: 0.625rem; line-height: 0.625rem; color: rgb(222, 222, 222); }
.cm-s-default .cm-variable, .cm-s-default .cm-operator, .cm-s-default .cm-property { color: rgb(184, 191, 198); }
.cm-s-default .cm-keyword { color: rgb(200, 143, 208); }
.cm-s-default .cm-tag { color: rgb(125, 244, 106); }
.cm-s-default .cm-attribute { color: rgb(117, 117, 228); }
.CodeMirror div.CodeMirror-cursor { border-left-width: 1px; border-left-style: solid; border-left-color: rgb(184, 191, 198); z-index: 3; }
.cm-s-default .cm-string { color: rgb(210, 107, 107); }
.cm-s-default .cm-comment { color: rgb(218, 146, 74); }
.cm-s-default .cm-header, .cm-s-default .cm-def { color: rgb(141, 141, 240); }
.cm-s-default .cm-quote { color: rgb(87, 172, 87); }
.cm-s-default .cm-hr { color: rgb(216, 213, 213); }
.cm-s-default .cm-link { color: rgb(211, 211, 239); }
.cm-negative { color: rgb(217, 80, 80); }
.cm-positive { color: rgb(80, 230, 80); }
.cm-s-default .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-default .cm-meta, .cm-s-default .cm-qualifier { color: rgb(183, 179, 179); }
.cm-s-default .cm-builtin { color: rgb(105, 78, 167); }
.cm-s-default .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-default .cm-atom { color: rgb(132, 182, 203); }
.cm-s-default .cm-number { color: rgb(100, 171, 143); }
.cm-s-default .cm-variable { color: rgb(184, 191, 198); }
.cm-s-default .cm-variable-2 { color: rgb(159, 186, 213); }
.cm-s-default .cm-variable-3 { color: rgb(28, 198, 133); }
.CodeMirror-selectedtext { background-color: rgb(74, 137, 220); text-shadow: none; color: rgb(255, 255, 255) !important; background-position: initial initial; background-repeat: initial initial; }
#write pre.md-meta-block { border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: rgb(204, 204, 204); background-color: transparent; padding-bottom: 0.6em; line-height: 1.2em; background-position: initial initial; background-repeat: initial initial; }
.btn, .btn .btn-default { background-color: transparent; color: rgb(184, 191, 198); background-position: initial initial; background-repeat: initial initial; }
.md-table-edit { border-top-width: 1px; border-top-style: solid; border-top-color: gray; }
.popover-title { background-color: transparent; background-position: initial initial; background-repeat: initial initial; }
.md-image > .md-meta { color: rgb(187, 187, 187); }
.md-expand.md-image > .md-meta { background-color: transparent; color: rgb(221, 221, 221); background-position: initial initial; background-repeat: initial initial; }
#write > h3::before, #write > h4::before, #write > h5::before, #write > h6::before { border: none; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; color: rgb(136, 136, 136); text-decoration: underline; left: -1.875rem; }
#write > h3.md-focus::before { top: 2px; }
#write > h4.md-focus::before { top: 2px; }
.md-toc-item { color: rgb(168, 194, 220); }
#write div.md-toc-tooltip { background-color: rgb(54, 59, 64); }
#outline-dropmenu .btn:hover, #outline-dropmenu .btn:focus, .md-toc .btn:hover, .md-toc .btn:focus { color: white; }
#outline-dropmenu { background-color: rgba(50, 54, 59, 0.933333); border: 1px solid rgba(253, 253, 253, 0.14902); background-position: initial initial; background-repeat: initial initial; }
#outline-dropmenu .divider { background-color: rgb(184, 191, 198); }
.outline-expander::before { top: 2px; }
.pin-outline #outline-dropmenu { background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; box-shadow: none; border-right-width: 1px; border-right-style: dashed; background-position: inherit inherit; background-repeat: inherit inherit; }
.pin-outline #outline-dropmenu:hover .outline-title-wrapper { border-left-width: 1px; border-left-style: dashed; }
.outline-title-wrapper .btn { color: inherit; }
.outline-item:hover { border-color: rgb(54, 59, 64); background-color: rgb(54, 59, 64); color: white; }
h1.md-focus .md-attr, h2.md-focus .md-attr, h3.md-focus .md-attr, h4.md-focus .md-attr, h5.md-focus .md-attr, h6.md-focus .md-attr, .md-header-span .md-attr { color: rgb(140, 142, 146); display: inline; }
.md-inline-math g, .md-inline-math svg { stroke: rgb(184, 191, 198) !important; fill: rgb(184, 191, 198) !important; }
[md-inline="inline_math"] { color: rgb(156, 178, 233); }
#math-inline-preview .md-arrow::after { background-color: black; background-position: initial initial; background-repeat: initial initial; }
.modal-content { background-color: rgb(57, 55, 57); }
.modal-footer { border-top-width: 1px; border-top-style: solid; border-top-color: rgba(42, 6, 6, 0.360784); }
.modal-header { border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(42, 6, 6, 0.360784); }
.modal-content input { background-color: rgba(26, 21, 21, 0.509804); color: white; }
.modal-content .input-group-addon { background-color: rgba(0, 0, 0, 0.168627); color: white; }
.modal-backdrop { background-color: rgba(174, 174, 174, 0.701961); }
.modal-content .btn-primary { border-color: rgb(109, 193, 231); }
.md-table-resize-popover { background-color: rgb(75, 83, 90); }


</style>
</head>
<body class='typora-export' >
<div  id='write' class = 'is-mac'><h2 ><a name='header-c1' class='md-header-anchor' ></a>背景</h2><p>这里有关于编码风格Apple官方文档，可以在以下文档来查找更多细节：</p><ul><li><a href='https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CodingGuidelines/CodingGuidelines.html'   >Coding Guidelines for Cocoa</a></li><li><a href='http://developer.apple.com/library/ios/#documentation/iphone/conceptual/iphoneosprogrammingguide/Introduction/Introduction.html'   >iOS App Programming Guide</a></li></ul><h2 ><a name='header-c12' class='md-header-anchor' ></a>目录</h2><div class='md-toc' mdtype='toc'><p class="md-toc-content"><span class="md-toc-item md-toc-h2" data-ref="c1"><a class="md-toc-inner" href="#header-c1">背景</a></span><span class="md-toc-item md-toc-h2" data-ref="c12"><a class="md-toc-inner" href="#header-c12">目录</a></span><span class="md-toc-item md-toc-h2" data-ref="c14"><a class="md-toc-inner" href="#header-c14">语言</a></span><span class="md-toc-item md-toc-h2" data-ref="c21"><a class="md-toc-inner" href="#header-c21">代码组织</a></span><span class="md-toc-item md-toc-h2" data-ref="c32"><a class="md-toc-inner" href="#header-c32">空格</a></span><span class="md-toc-item md-toc-h2" data-ref="c54"><a class="md-toc-inner" href="#header-c54">注释</a></span><span class="md-toc-item md-toc-h2" data-ref="c58"><a class="md-toc-inner" href="#header-c58">命名</a></span><span class="md-toc-item md-toc-h2" data-ref="c77"><a class="md-toc-inner" href="#header-c77">下划线</a></span><span class="md-toc-item md-toc-h2" data-ref="c82"><a class="md-toc-inner" href="#header-c82">方法</a></span><span class="md-toc-item md-toc-h2" data-ref="c93"><a class="md-toc-inner" href="#header-c93">变量</a></span><span class="md-toc-item md-toc-h2" data-ref="c104"><a class="md-toc-inner" href="#header-c104">属性特性</a></span><span class="md-toc-item md-toc-h2" data-ref="c117"><a class="md-toc-inner" href="#header-c117">点符号语法</a></span><span class="md-toc-item md-toc-h2" data-ref="c125"><a class="md-toc-inner" href="#header-c125">字面值</a></span><span class="md-toc-item md-toc-h2" data-ref="c132"><a class="md-toc-inner" href="#header-c132">常量</a></span><span class="md-toc-item md-toc-h2" data-ref="c139"><a class="md-toc-inner" href="#header-c139">枚举类型</a></span><span class="md-toc-item md-toc-h2" data-ref="c149"><a class="md-toc-inner" href="#header-c149">Case语句</a></span><span class="md-toc-item md-toc-h2" data-ref="c157"><a class="md-toc-inner" href="#header-c157">私有属性</a></span><span class="md-toc-item md-toc-h2" data-ref="c162"><a class="md-toc-inner" href="#header-c162">布尔值</a></span><span class="md-toc-item md-toc-h2" data-ref="c173"><a class="md-toc-inner" href="#header-c173">条件语句</a></span><span class="md-toc-item md-toc-h2" data-ref="c182"><a class="md-toc-inner" href="#header-c182">三元操作符</a></span><span class="md-toc-item md-toc-h2" data-ref="c190"><a class="md-toc-inner" href="#header-c190">Init方法</a></span><span class="md-toc-item md-toc-h2" data-ref="c194"><a class="md-toc-inner" href="#header-c194">类构造方法</a></span><span class="md-toc-item md-toc-h2" data-ref="c199"><a class="md-toc-inner" href="#header-c199">CGRect函数</a></span><span class="md-toc-item md-toc-h2" data-ref="c208"><a class="md-toc-inner" href="#header-c208">黄金路径</a></span><span class="md-toc-item md-toc-h2" data-ref="c216"><a class="md-toc-inner" href="#header-c216">错误处理</a></span><span class="md-toc-item md-toc-h2" data-ref="c224"><a class="md-toc-inner" href="#header-c224">单例模式</a></span><span class="md-toc-item md-toc-h2" data-ref="c229"><a class="md-toc-inner" href="#header-c229">换行符</a></span><span class="md-toc-item md-toc-h2" data-ref="c236"><a class="md-toc-inner" href="#header-c236">Xcode工程</a></span><span class="md-toc-item md-toc-h1" data-ref="c239"><a class="md-toc-inner" href="#header-c239">其他Objective-C编码规范</a></span></p></div><h2 ><a name='header-c14' class='md-header-anchor' ></a>语言</h2><p>应该使用US英语.</p><p><strong>应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">UIColor</span> <span class="cm-operator">*</span><span class="cm-variable">myColor</span> <span class="cm-operator">=</span> [<span class="cm-variable">UIColor</span> <span class="cm-variable">whiteColor</span>];</span></pre></div></div></div></div></div></div></div></pre><p><strong>不应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">UIColor</span> <span class="cm-operator">*</span><span class="cm-variable">myColour</span> <span class="cm-operator">=</span> [<span class="cm-variable">UIColor</span> <span class="cm-variable">whiteColor</span>];</span></pre></div></div></div></div></div></div></div></pre><hr /><h2 ><a name='header-c21' class='md-header-anchor' ></a>代码组织</h2><p>import按以下方式划分</p><pre class='md-fences mock-cm' style='display:block;position:relative'>//Controllers
#import &quot;PLCameraViewController.h&quot;

//Cells
#import &quot;PLCheckPointListTableCell.h&quot;

//Views
#import &quot;PLTableNodataView.h&quot;

//API
#import &quot;AliyunOSSWrapper.h&quot;

//Models
#import &quot;PatrolModel.h&quot;

// other
#import &lt;AudioToolbox/AudioToolbox.h&gt;</pre><p>在.h文件中使用<code>#pragma mark -</code>来分类方法，要遵循以下一般结构：</p><pre class='md-fences mock-cm' style='display:block;position:relative'>#pragma mark – Class properties

#pragma mark – Class methods

#pragma mark – Class instance methods

@end

#pragma mark - Class Delegate

@protocol ClassNameDelegate &lt;NSObject&gt;

#pragma mark – Class optional delegate(s)
@optional

#pragma mark – Class required delegate(s)
@required

@end</pre><p></p><p>在.m实现中使用<code>#pragma mark -</code>来分类方法，要遵循以下一般结构：</p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=""><span style="padding-right: 0.1px;"><span class="cm-meta">#pragma mark - Setters/Getters</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-meta">#pragma mark – View lifecycle</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-operator">-</span> (<span class="cm-keyword">void</span>)<span class="cm-variable">viewDidLoad</span> {</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  [<span class="cm-variable">super</span> <span class="cm-variable">viewDidLoad</span>];</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">}</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-operator">-</span> (<span class="cm-keyword">void</span>)<span class="cm-variable">viewWillAppear</span>:(<span class="cm-variable">BOOL</span>)<span class="cm-variable">animated</span> {</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  [<span class="cm-variable">super</span> <span class="cm-variable">viewWillAppear</span>:<span class="cm-variable">animated</span>];</span></pre><pre class=""><span style="padding-right: 0.1px;">}</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-operator">-</span> (<span class="cm-keyword">void</span>)<span class="cm-variable">viewDidAppear</span>:(<span class="cm-variable">BOOL</span>)<span class="cm-variable">animated</span> {</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  [<span class="cm-variable">super</span> <span class="cm-variable">viewDidAppear</span>:<span class="cm-variable">animated</span>];</span></pre><pre class=""><span style="padding-right: 0.1px;">}</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-operator">-</span> (<span class="cm-keyword">void</span>)<span class="cm-variable">viewWillDisappear</span>:(<span class="cm-variable">BOOL</span>)<span class="cm-variable">animated</span> {</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  [<span class="cm-variable">super</span> <span class="cm-variable">viewWillDisappear</span>:<span class="cm-variable">animated</span>];</span></pre><pre class=""><span style="padding-right: 0.1px;">}</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-operator">-</span> (<span class="cm-keyword">void</span>)<span class="cm-variable">viewDidDisappear</span>:(<span class="cm-variable">BOOL</span>)<span class="cm-variable">animated</span> {</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  [<span class="cm-variable">super</span> <span class="cm-variable">viewDidDisappear</span>:<span class="cm-variable">animated</span>];</span></pre><pre class=""><span style="padding-right: 0.1px;">}</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-meta">#pragma mark – Initialization &amp; Memory management methods</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-operator">-</span> (<span class="cm-keyword">void</span>)<span class="cm-variable">didReceiveMemoryWarning</span> {</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  [<span class="cm-variable">super</span> <span class="cm-variable">didReceiveMemoryWarning</span>];</span></pre><pre class=""><span style="padding-right: 0.1px;">}</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-meta">#pragma mark – Request service methods</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-meta">#pragma mark – Private methods</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-meta">#pragma mark – Target action methods</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-meta">#pragma mark - IBActions</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-meta">#pragma mark – Public methods</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-meta">#pragma mark – Class methods</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-meta">#pragma mark – Override properties</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-meta">#pragma mark - Override super methods</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-meta">#pragma mark – Delegate</span></span></pre></div></div></div></div></div></div></div></pre><p></p><p></p><hr /><h2 ><a name='header-c32' class='md-header-anchor' ></a>空格</h2><ul><li>缩进使用<strong>4</strong>个空格，确保在Xcode偏好设置来设置。(raywenderlich.com使用<strong>2</strong>个空格)</li><li>方法大括号和其他大括号(<code>if</code>/<code>else</code>/<code>switch</code>/<code>while</code> 等.)总是在同一行语句打开但在新行中关闭。</li></ul><p><strong>应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">user</span>.<span class="cm-variable">isHappy</span>) {</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-comment">//Do something</span></span></pre><pre class=""><span style="padding-right: 0.1px;">} <span class="cm-keyword">else</span> {</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-comment">//Do something else</span></span></pre><pre class=""><span style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div></div></pre><p><strong>不应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">user</span>.<span class="cm-variable">isHappy</span>)</span></pre><pre class=""><span style="padding-right: 0.1px;">{</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-comment">//Do something</span></span></pre><pre class=""><span style="padding-right: 0.1px;">}</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">else</span> {</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-comment">//Do something else</span></span></pre><pre class=""><span style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div></div></pre><ul><li>在方法之间应该有且只有一行，这样有利于在视觉上更清晰和更易于组织。在方法内的空白应该分离功能，但通常都抽离出来成为一个新方法。</li><li>优先使用auto-synthesis。但如果有必要，<code>@synthesize</code> 和 <code>@dynamic</code>应该在实现中每个都声明新的一行。</li><li>应该避免以冒号对齐的方式来调用方法。因为有时方法签名可能有3个以上的冒号和冒号对齐会使代码更加易读。请<strong>不要</strong>这样做，尽管冒号对齐的方法包含代码块，因为Xcode的对齐方式令它难以辨认。</li></ul><p><strong>应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment">// blocks are easily readable</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[<span class="cm-variable">UIView</span> <span class="cm-variable">animateWithDuration</span>:<span class="cm-number">1.0</span> <span class="cm-variable">animations</span>:<span class="cm-variable">^</span>{</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-comment">// something</span></span></pre><pre class=""><span style="padding-right: 0.1px;">} <span class="cm-variable">completion</span>:<span class="cm-variable">^</span>(<span class="cm-variable">BOOL</span> <span class="cm-variable">finished</span>) {</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-comment">// something</span></span></pre><pre class=""><span style="padding-right: 0.1px;">}];</span></pre></div></div></div></div></div></div></div></pre><p><strong>不应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment">// colon-aligning makes the block indentation hard to read</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[<span class="cm-variable">UIView</span> <span class="cm-variable">animateWithDuration</span>:<span class="cm-number">1.0</span></span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">animations</span>:<span class="cm-variable">^</span>{</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-comment">// something</span></span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">completion</span>:<span class="cm-variable">^</span>(<span class="cm-variable">BOOL</span> <span class="cm-variable">finished</span>) {</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-comment">// something</span></span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }];</span></pre></div></div></div></div></div></div></div></pre><hr /><h2 ><a name='header-c54' class='md-header-anchor' ></a>注释</h2><p>当需要注释时，注释应该用来解释这段特殊代码<strong>为什么</strong>要这样做。任何被使用的注释都必须保持最新或被删除。</p><p>一般都避免使用块注释，因为代码尽可能做到自解释，只有当断断续续或几行代码时才需要注释。<em>例外：这不应用在生成文档的注释</em></p><hr /><h2 ><a name='header-c58' class='md-header-anchor' ></a>命名</h2><p>Apple命名规则尽可能坚持，特别是与这些相关的<a href='https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/MemoryMgmt/Articles/MemoryMgmt.html'   >memory management rules</a> (<a href='http://stackoverflow.com/a/2865194/340508'   >NARC</a>)。</p><p>长的，描述性的方法和变量命名是好的。</p><p><strong>应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">UIButton</span> <span class="cm-operator">*</span><span class="cm-variable">settingsButton</span>;</span></pre></div></div></div></div></div></div></div></pre><p><strong>不应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">UIButton</span> <span class="cm-operator">*</span><span class="cm-variable">setBut</span>;</span></pre></div></div></div></div></div></div></div></pre><p>三个字符前缀应该经常用在类和常量命名，但在Core Data的实体名中应被忽略。对于官方的raywenderlich.com书、初学者工具包或教程，前缀&#39;RWT&#39;应该被使用。</p><p>常量应该使用驼峰式命名规则，所有的单词首字母大写和加上与类名有关的前缀。</p><p><strong>应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 25.8125px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">static</span> <span class="cm-variable">NSTimeInterval</span> <span class="cm-keyword">const</span> <span class="cm-variable">RWTTutorialViewControllerNavigationFadeAnimationDuration</span> <span class="cm-operator">=</span> <span class="cm-number">0.3</span>;</span></pre></div></div></div></div></div></div></div></pre><p><strong>不应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">static</span> <span class="cm-variable">NSTimeInterval</span> <span class="cm-keyword">const</span> <span class="cm-variable">fadetime</span> <span class="cm-operator">=</span> <span class="cm-number">1.7</span>;</span></pre></div></div></div></div></div></div></div></pre><p>属性也是使用驼峰式，但首单词的首字母小写。对属性使用auto-synthesis，而不是手动编写@ synthesize语句，除非你有一个好的理由。</p><p><strong>应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">@property</span> (<span class="cm-variable">strong</span>, <span class="cm-variable">nonatomic</span>) <span class="cm-variable">NSString</span> <span class="cm-operator">*</span><span class="cm-variable">descriptiveVariableName</span>;</span></pre></div></div></div></div></div></div></div></pre><p><strong>不应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">id</span> <span class="cm-variable">varnm</span>;</span></pre></div></div></div></div></div></div></div></pre><hr /><h2 ><a name='header-c77' class='md-header-anchor' ></a>下划线</h2><p>当使用属性时，实例变量应该使用<code>self.</code>来访问和改变。这就意味着所有属性将会视觉效果不同，因为它们前面都有<code>self.</code>。</p><p>但有一个特例：在初始化方法里，实例变量(例如，_variableName)应该直接被使用来避免getters/setters潜在的副作用。</p><p>局部变量不应该包含下划线。</p><hr /><h2 ><a name='header-c82' class='md-header-anchor' ></a>方法</h2><p>在方法签名中，应该在方法类型(-/+ 符号)之后有一个空格。在方法各个段之间应该也有一个空格(符合Apple的风格)。在参数之前应该包含一个具有描述性的关键字来描述参数。</p><p>&quot;and&quot;这个词的用法应该保留。它不应该用于多个参数来说明，就像<code>initWithWidth:height</code>以下这个例子：</p><p><strong>应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-operator">-</span> (<span class="cm-keyword">void</span>)<span class="cm-variable">setExampleText</span>:(<span class="cm-variable">NSString</span> <span class="cm-operator">*</span>)<span class="cm-variable">text</span> <span class="cm-variable">image</span>:(<span class="cm-variable">UIImage</span> <span class="cm-operator">*</span>)<span class="cm-variable">image</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-operator">-</span> (<span class="cm-keyword">void</span>)<span class="cm-variable">sendAction</span>:(<span class="cm-variable">SEL</span>)<span class="cm-variable">aSelector</span> <span class="cm-variable">to</span>:(<span class="cm-variable">id</span>)<span class="cm-variable">anObject</span> <span class="cm-variable">forAllCells</span>:(<span class="cm-variable">BOOL</span>)<span class="cm-variable">flag</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-operator">-</span> (<span class="cm-variable">id</span>)<span class="cm-variable">viewWithTag</span>:(<span class="cm-variable">NSInteger</span>)<span class="cm-variable">tag</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-operator">-</span> (<span class="cm-variable">instancetype</span>)<span class="cm-variable">initWithWidth</span>:(<span class="cm-variable">CGFloat</span>)<span class="cm-variable">width</span> <span class="cm-variable">height</span>:(<span class="cm-variable">CGFloat</span>)<span class="cm-variable">height</span>;</span></pre></div></div></div></div></div></div></div></pre><p><strong>不应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=""><span style="padding-right: 0.1px;"><span class="cm-operator">-</span>(<span class="cm-keyword">void</span>)<span class="cm-variable">setT</span>:(<span class="cm-variable">NSString</span> <span class="cm-operator">*</span>)<span class="cm-variable">text</span> <span class="cm-variable">i</span>:(<span class="cm-variable">UIImage</span> <span class="cm-operator">*</span>)<span class="cm-variable">image</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-operator">-</span> (<span class="cm-keyword">void</span>)<span class="cm-variable">sendAction</span>:(<span class="cm-variable">SEL</span>)<span class="cm-variable">aSelector</span> :(<span class="cm-variable">id</span>)<span class="cm-variable">anObject</span> :(<span class="cm-variable">BOOL</span>)<span class="cm-variable">flag</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-operator">-</span> (<span class="cm-variable">id</span>)<span class="cm-variable">taggedView</span>:(<span class="cm-variable">NSInteger</span>)<span class="cm-variable">tag</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-operator">-</span> (<span class="cm-variable">instancetype</span>)<span class="cm-variable">initWithWidth</span>:(<span class="cm-variable">CGFloat</span>)<span class="cm-variable">width</span> <span class="cm-variable">andHeight</span>:(<span class="cm-variable">CGFloat</span>)<span class="cm-variable">height</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-operator">-</span> (<span class="cm-variable">instancetype</span>)<span class="cm-variable">initWith</span>:(<span class="cm-keyword">int</span>)<span class="cm-variable">width</span> <span class="cm-variable">and</span>:(<span class="cm-keyword">int</span>)<span class="cm-variable">height</span>;  <span class="cm-comment">// Never do this.</span></span></pre></div></div></div></div></div></div></div></pre><p></p><p>Category 应该对Class的扩展。Category不是用来重写原类或者超类中已有方法的。为什么不能这样做？<a href='https://stackoverflow.com/questions/5272451/overriding-methods-using-categories-in-objective-c/5272612#5272612'   >stackoverflow的回答</a></p><p><a href='https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/CustomizingExistingClasses/CustomizingExistingClasses.html'   >apple 官方解释为何不能这样做</a></p><hr /><h2 ><a name='header-c93' class='md-header-anchor' ></a>变量</h2><p>变量尽量以描述性的方式来命名。单个字符的变量命名应该尽量避免，除了在<code>for()</code>循环。</p><p>星号表示变量是指针。例如， <code>NSString *text</code> 既不是 <code>NSString* text</code> 也不是 <code>NSString * text</code>，除了一些特殊情况下常量。</p><p>私有变量应该尽可能代替实例变量的使用。尽管使用实例变量是一种有效的方式，但更偏向于使用属性来保持代码一致性。</p><p>通过使用&#39;back&#39;属性(<em>variable，变量名前面有下划线)直接访问实例变量应该尽量避免.但是在初始化方法在初始化方法(<code>init</code>, <code>initWithCoder:</code>, 等…)，<code>dealloc</code> 方法和自定义的setters和getters中不应该使用Accessor (例如:self.name) ,而应该直接使用实例变量(例如:</em>name ) </p><p>想了解关于如何在初始化方法和dealloc直接使用Accessor方法的更多信息，查看<a href='https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmPractical.html#//apple_ref/doc/uid/TP40004447-SW6'   >这里</a></p><p><strong>应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">@interface</span> <span class="cm-variable">RWTTutorial</span> : <span class="cm-variable">NSObject</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">@property</span> (<span class="cm-variable">strong</span>, <span class="cm-variable">nonatomic</span>) <span class="cm-variable">NSString</span> <span class="cm-operator">*</span><span class="cm-variable">tutorialName</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">@end</span></span></pre></div></div></div></div></div></div></div></pre><p><strong>不应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">@interface</span> <span class="cm-variable">RWTTutorial</span> : <span class="cm-variable">NSObject</span> {</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-variable">NSString</span> <span class="cm-operator">*</span><span class="cm-variable">tutorialName</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div></div></pre><hr /><h2 ><a name='header-c104' class='md-header-anchor' ></a>属性特性</h2><p>所有属性特性应该显式地列出来，有助于新手阅读代码。属性特性的顺序应该是storage、atomicity，与在Interface Builder连接UI元素时自动生成代码一致。</p><p><strong>应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">@property</span> (<span class="cm-variable">weak</span>, <span class="cm-variable">nonatomic</span>) <span class="cm-variable">IBOutlet</span> <span class="cm-variable">UIView</span> <span class="cm-operator">*</span><span class="cm-variable">containerView</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">@property</span> (<span class="cm-variable">strong</span>, <span class="cm-variable">nonatomic</span>) <span class="cm-variable">NSString</span> <span class="cm-operator">*</span><span class="cm-variable">tutorialName</span>;</span></pre></div></div></div></div></div></div></div></pre><p><strong>不应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">@property</span> (<span class="cm-variable">nonatomic</span>, <span class="cm-variable">weak</span>) <span class="cm-variable">IBOutlet</span> <span class="cm-variable">UIView</span> <span class="cm-operator">*</span><span class="cm-variable">containerView</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">@property</span> (<span class="cm-variable">nonatomic</span>) <span class="cm-variable">NSString</span> <span class="cm-operator">*</span><span class="cm-variable">tutorialName</span>;</span></pre></div></div></div></div></div></div></div></pre><p>NSString应该使用<code>copy</code> 而不是 <code>strong</code>的属性特性。</p><p>为什么？即使你声明一个<code>NSString</code>的属性，有人可能传入一个<code>NSMutableString</code>的实例，然后在你没有注意的情况下修改它。 </p><p><strong>应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">@property</span> (<span class="cm-variable">copy</span>, <span class="cm-variable">nonatomic</span>) <span class="cm-variable">NSString</span> <span class="cm-operator">*</span><span class="cm-variable">tutorialName</span>;</span></pre></div></div></div></div></div></div></div></pre><p><strong>不应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">@property</span> (<span class="cm-variable">strong</span>, <span class="cm-variable">nonatomic</span>) <span class="cm-variable">NSString</span> <span class="cm-operator">*</span><span class="cm-variable">tutorialName</span>;</span></pre></div></div></div></div></div></div></div></pre><hr /><h2 ><a name='header-c117' class='md-header-anchor' ></a>点符号语法</h2><p>点语法是一种很方便封装访问方法调用的方式。当你使用点语法时，通过使用getter或setter方法，属性仍然被访问或修改。想了解更多，阅读<a href='https://developer.apple.com/library/ios/documentation/cocoa/conceptual/ProgrammingWithObjectiveC/EncapsulatingData/EncapsulatingData.html'   >这里</a></p><p>点语法应该<strong>总是</strong>被用来访问和修改属性，因为它使代码更加简洁。[]符号更偏向于用在其他例子。</p><p><strong>应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">NSInteger</span> <span class="cm-variable">arrayCount</span> <span class="cm-operator">=</span> <span class="cm-variable">self</span>.<span class="cm-variable">array</span>.<span class="cm-variable">count</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">view</span>.<span class="cm-variable">backgroundColor</span> <span class="cm-operator">=</span> [<span class="cm-variable">UIColor</span> <span class="cm-variable">orangeColor</span>];</span></pre><pre class=""><span style="padding-right: 0.1px;">[<span class="cm-variable">UIApplication</span> <span class="cm-variable">sharedApplication</span>].<span class="cm-variable">delegate</span>;</span></pre></div></div></div></div></div></div></div></pre><p><strong>不应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">NSInteger</span> <span class="cm-variable">arrayCount</span> <span class="cm-operator">=</span> [<span class="cm-variable">self</span>.<span class="cm-variable">array</span> <span class="cm-variable">count</span>];</span></pre><pre class=""><span style="padding-right: 0.1px;">[<span class="cm-variable">view</span> <span class="cm-variable">setBackgroundColor</span>:[<span class="cm-variable">UIColor</span> <span class="cm-variable">orangeColor</span>]];</span></pre><pre class=""><span style="padding-right: 0.1px;">[[<span class="cm-variable">UIApplication</span> <span class="cm-variable">sharedApplication</span>] <span class="cm-variable">delegate</span>];</span></pre></div></div></div></div></div></div></div></pre><hr /><h2 ><a name='header-c125' class='md-header-anchor' ></a>字面值</h2><p><code>NSString</code>, <code>NSDictionary</code>, <code>NSArray</code>, 和 <code>NSNumber</code>的字面值应该在创建这些类的不可变实例时被使用。请特别注意<code>nil</code>值不能传入<code>NSArray</code>和<code>NSDictionary</code>字面值，因为这样会导致crash。</p><p><strong>应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26.25px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">NSArray</span> <span class="cm-operator">*</span><span class="cm-variable">names</span> <span class="cm-operator">=</span> <span class="cm-variable">@</span>[<span class="cm-variable">@</span><span class="cm-string">"Brian"</span>, <span class="cm-variable">@</span><span class="cm-string">"Matt"</span>, <span class="cm-variable">@</span><span class="cm-string">"Chris"</span>, <span class="cm-variable">@</span><span class="cm-string">"Alex"</span>, <span class="cm-variable">@</span><span class="cm-string">"Steve"</span>, <span class="cm-variable">@</span><span class="cm-string">"Paul"</span>];</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">NSDictionary</span> <span class="cm-operator">*</span><span class="cm-variable">productManagers</span> <span class="cm-operator">=</span> <span class="cm-variable">@</span>{<span class="cm-variable">@</span><span class="cm-string">"iPhone"</span>: <span class="cm-variable">@</span><span class="cm-string">"Kate"</span>, <span class="cm-variable">@</span><span class="cm-string">"iPad"</span>: <span class="cm-variable">@</span><span class="cm-string">"Kamal"</span>, <span class="cm-variable">@</span><span class="cm-string">"Mobile Web"</span>: <span class="cm-variable">@</span><span class="cm-string">"Bill"</span>};</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">NSNumber</span> <span class="cm-operator">*</span><span class="cm-variable">shouldUseLiterals</span> <span class="cm-operator">=</span> <span class="cm-variable">@YES</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">NSNumber</span> <span class="cm-operator">*</span><span class="cm-variable">buildingStreetNumber</span> <span class="cm-operator">=</span> <span class="cm-variable">@10018</span>;</span></pre></div></div></div></div></div></div></div></pre><p><strong>不应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26.28125px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">NSArray</span> <span class="cm-operator">*</span><span class="cm-variable">names</span> <span class="cm-operator">=</span> [<span class="cm-variable">NSArray</span> <span class="cm-variable">arrayWithObjects</span>:<span class="cm-variable">@</span><span class="cm-string">"Brian"</span>, <span class="cm-variable">@</span><span class="cm-string">"Matt"</span>, <span class="cm-variable">@</span><span class="cm-string">"Chris"</span>, <span class="cm-variable">@</span><span class="cm-string">"Alex"</span>, <span class="cm-variable">@</span><span class="cm-string">"Steve"</span>, <span class="cm-variable">@</span><span class="cm-string">"Paul"</span>, <span class="cm-variable">nil</span>];</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">NSDictionary</span> <span class="cm-operator">*</span><span class="cm-variable">productManagers</span> <span class="cm-operator">=</span> [<span class="cm-variable">NSDictionary</span> <span class="cm-variable">dictionaryWithObjectsAndKeys</span>: <span class="cm-variable">@</span><span class="cm-string">"Kate"</span>, <span class="cm-variable">@</span><span class="cm-string">"iPhone"</span>, <span class="cm-variable">@</span><span class="cm-string">"Kamal"</span>, <span class="cm-variable">@</span><span class="cm-string">"iPad"</span>, <span class="cm-variable">@</span><span class="cm-string">"Bill"</span>, <span class="cm-variable">@</span><span class="cm-string">"Mobile Web"</span>, <span class="cm-variable">nil</span>];</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">NSNumber</span> <span class="cm-operator">*</span><span class="cm-variable">shouldUseLiterals</span> <span class="cm-operator">=</span> [<span class="cm-variable">NSNumber</span> <span class="cm-variable">numberWithBool</span>:<span class="cm-variable">YES</span>];</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">NSNumber</span> <span class="cm-operator">*</span><span class="cm-variable">buildingStreetNumber</span> <span class="cm-operator">=</span> [<span class="cm-variable">NSNumber</span> <span class="cm-variable">numberWithInteger</span>:<span class="cm-number">10018</span>];</span></pre></div></div></div></div></div></div></div></pre><hr /><h2 ><a name='header-c132' class='md-header-anchor' ></a>常量</h2><p>常量是容易重复被使用和无需通过查找和代替就能快速修改值。常量应该使用<code>static</code>来声明而不是使用<code>#define</code>，除非显式地使用宏。</p><p><strong>应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26.3125px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">static</span> <span class="cm-variable">NSString</span> <span class="cm-operator">*</span> <span class="cm-keyword">const</span> <span class="cm-variable">RWTAboutViewControllerCompanyName</span> <span class="cm-operator">=</span> <span class="cm-variable">@</span><span class="cm-string">"RayWenderlich.com"</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">static</span> <span class="cm-variable">CGFloat</span> <span class="cm-keyword">const</span> <span class="cm-variable">RWTImageThumbnailHeight</span> <span class="cm-operator">=</span> <span class="cm-number">50.0</span>;</span></pre></div></div></div></div></div></div></div></pre><p><strong>不应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-meta">#define CompanyName @"RayWenderlich.com"</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-meta">#define thumbnailHeight 2</span></span></pre></div></div></div></div></div></div></div></pre><hr /><h2 ><a name='header-c139' class='md-header-anchor' ></a>枚举类型</h2><p>当使用<code>enum</code>时，推荐使用新的固定基本类型规格，因为它有更强的类型检查和代码补全。现在SDK有一个宏<code>NS_ENUM()</code>来帮助和鼓励你使用固定的基本类型。</p><p><strong>例如:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">typedef</span> <span class="cm-variable">NS_ENUM</span>(<span class="cm-variable">NSInteger</span>, <span class="cm-variable">RWTLeftMenuTopItemType</span>) {</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-variable">RWTLeftMenuTopItemMain</span>,</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-variable">RWTLeftMenuTopItemShows</span>,</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-variable">RWTLeftMenuTopItemSchedule</span></span></pre><pre class=""><span style="padding-right: 0.1px;">};</span></pre></div></div></div></div></div></div></div></pre><p>你也可以显式地赋值(展示旧的k-style常量定义)：</p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">typedef</span> <span class="cm-variable">NS_ENUM</span>(<span class="cm-variable">NSInteger</span>, <span class="cm-variable">RWTGlobalConstants</span>) {</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-variable">RWTPinSizeMin</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>,</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-variable">RWTPinSizeMax</span> <span class="cm-operator">=</span> <span class="cm-number">5</span>,</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-variable">RWTPinCountMin</span> <span class="cm-operator">=</span> <span class="cm-number">100</span>,</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-variable">RWTPinCountMax</span> <span class="cm-operator">=</span> <span class="cm-number">500</span>,</span></pre><pre class=""><span style="padding-right: 0.1px;">};</span></pre></div></div></div></div></div></div></div></pre><p>旧的k-style常量定义应该<strong>避免</strong>除非编写Core Foundation C的代码。</p><p><strong>不应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">enum</span> <span class="cm-variable">GlobalConstants</span> {</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-variable">kMaxPinSize</span> <span class="cm-operator">=</span> <span class="cm-number">5</span>,</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-variable">kMaxPinCount</span> <span class="cm-operator">=</span> <span class="cm-number">500</span>,</span></pre><pre class=""><span style="padding-right: 0.1px;">};</span></pre></div></div></div></div></div></div></div></pre><hr /><h2 ><a name='header-c149' class='md-header-anchor' ></a>Case语句</h2><p>大括号在case语句中并不是必须的，除非编译器强制要求。当一个case语句包含多行代码时，大括号应该加上。</p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">switch</span> (<span class="cm-variable">condition</span>) {</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-keyword">case</span> <span class="cm-number">1</span>:</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-comment">// ...</span></span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-keyword">break</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-keyword">case</span> <span class="cm-number">2</span>: {</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-comment">// ...</span></span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-comment">// Multi-line example using braces</span></span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-keyword">break</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;">  }</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-keyword">case</span> <span class="cm-number">3</span>:</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-comment">// ...</span></span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-keyword">break</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-keyword">default</span>: </span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-comment">// ...</span></span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-keyword">break</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div></div></pre><p>有很多次，当相同代码被多个cases使用时，一个fall-through应该被使用。一个fall-through就是在case最后移除&#39;break&#39;语句，这样就能够允许执行流程跳转到下一个case值。为了代码更加清晰，一个fall-through需要注释一下。</p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">switch</span> (<span class="cm-variable">condition</span>) {</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-keyword">case</span> <span class="cm-number">1</span>:</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-comment">// ** fall-through! **</span></span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-keyword">case</span> <span class="cm-number">2</span>:</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-comment">// code executed for values 1 and 2</span></span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-keyword">break</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-keyword">default</span>: </span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-comment">// ...</span></span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-keyword">break</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div></div></pre><p>当在switch使用枚举类型时，&#39;default&#39;是不需要的。例如：</p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">RWTLeftMenuTopItemType</span> <span class="cm-variable">menuType</span> <span class="cm-operator">=</span> <span class="cm-variable">RWTLeftMenuTopItemMain</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">switch</span> (<span class="cm-variable">menuType</span>) {</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-keyword">case</span> <span class="cm-variable">RWTLeftMenuTopItemMain</span>:</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-comment">// ...</span></span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-keyword">break</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-keyword">case</span> <span class="cm-variable">RWTLeftMenuTopItemShows</span>:</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-comment">// ...</span></span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-keyword">break</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-keyword">case</span> <span class="cm-variable">RWTLeftMenuTopItemSchedule</span>:</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-comment">// ...</span></span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-keyword">break</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div></div></pre><hr /><h2 ><a name='header-c157' class='md-header-anchor' ></a>私有属性</h2><p>私有属性应该在类的实现文件中的类扩展(匿名分类)中声明，命名分类(比如<code>RWTPrivate</code>或<code>private</code>)应该从不使用除非是扩展其他类。匿名分类应该通过使用<headerfile>+Private.h文件的命名规则暴露给测试。</p><p><strong>例如:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">@interface</span> <span class="cm-variable">RWTDetailViewController</span> ()</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">@property</span> (<span class="cm-variable">strong</span>, <span class="cm-variable">nonatomic</span>) <span class="cm-variable">GADBannerView</span> <span class="cm-operator">*</span><span class="cm-variable">googleAdView</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">@property</span> (<span class="cm-variable">strong</span>, <span class="cm-variable">nonatomic</span>) <span class="cm-variable">ADBannerView</span> <span class="cm-operator">*</span><span class="cm-variable">iAdView</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">@property</span> (<span class="cm-variable">strong</span>, <span class="cm-variable">nonatomic</span>) <span class="cm-variable">UIWebView</span> <span class="cm-operator">*</span><span class="cm-variable">adXWebView</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">@end</span></span></pre></div></div></div></div></div></div></div></pre><hr /><h2 ><a name='header-c162' class='md-header-anchor' ></a>布尔值</h2><p>Objective-C使用<code>YES</code>和<code>NO</code>。因为<code>true</code>和<code>false</code>应该只在CoreFoundation，C或C++代码使用。既然<code>nil</code>解析成<code>NO</code>，所以没有必要在条件语句比较。不要拿某样东西直接与<code>YES</code>比较，因为<code>YES</code>被定义为1和一个<code>BOOL</code>能被设置为8位。</p><p>这是为了在不同文件保持一致性和在视觉上更加简洁而考虑。</p><p><strong>应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">someObject</span>) {}</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-operator">!</span>[<span class="cm-variable">anotherObject</span> <span class="cm-variable">boolValue</span>]) {}</span></pre></div></div></div></div></div></div></div></pre><p><strong>不应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">someObject</span> <span class="cm-operator">==</span> <span class="cm-variable">nil</span>) {}</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">if</span> ([<span class="cm-variable">anotherObject</span> <span class="cm-variable">boolValue</span>] <span class="cm-operator">==</span> <span class="cm-variable">NO</span>) {}</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">isAwesome</span> <span class="cm-operator">==</span> <span class="cm-variable">YES</span>) {} <span class="cm-comment">// Never do this.</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">isAwesome</span> <span class="cm-operator">==</span> <span class="cm-atom">true</span>) {} <span class="cm-comment">// Never do this.</span></span></pre></div></div></div></div></div></div></div></pre><p>如果<code>BOOL</code>属性的名字是一个形容词，属性就能忽略&quot;is&quot;前缀，但要指定get访问器的惯用名称。例如：</p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">@property</span> (<span class="cm-variable">assign</span>, <span class="cm-variable">getter</span><span class="cm-operator">=</span><span class="cm-variable">isEditable</span>) <span class="cm-variable">BOOL</span> <span class="cm-variable">editable</span>;</span></pre></div></div></div></div></div></div></div></pre><p>文字和例子从这里引用<a href='https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CodingGuidelines/Articles/NamingIvarsAndTypes.html#//apple_ref/doc/uid/20001284-BAJGIIJE'   >Cocoa Naming Guidelines</a></p><hr /><h2 ><a name='header-c173' class='md-header-anchor' ></a>条件语句</h2><p>条件语句主体为了防止出错应该使用大括号包围，即使条件语句主体能够不用大括号编写(如，只用一行代码)。这些错误包括添加第二行代码和期望它成为if语句；还有，<a href='http://programmers.stackexchange.com/a/16530'   >even more dangerous defect</a>可能发生在if语句里面一行代码被注释了，然后下一行代码不知不觉地成为if语句的一部分。除此之外，这种风格与其他条件语句的风格保持一致，所以更加容易阅读。</p><p><strong>应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-operator">!</span><span class="cm-variable">error</span>) {</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-keyword">return</span> <span class="cm-variable">success</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div></div></pre><p><strong>不应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-operator">!</span><span class="cm-variable">error</span>)</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-keyword">return</span> <span class="cm-variable">success</span>;</span></pre></div></div></div></div></div></div></div></pre><p>或</p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-operator">!</span><span class="cm-variable">error</span>) <span class="cm-keyword">return</span> <span class="cm-variable">success</span>;</span></pre></div></div></div></div></div></div></div></pre><hr /><h2 ><a name='header-c182' class='md-header-anchor' ></a>三元操作符</h2><p>当需要提高代码的清晰性和简洁性时，三元操作符<code>?:</code>才会使用。单个条件求值常常需要它。多个条件求值时，如果使用<code>if</code>语句或重构成实例变量时，代码会更加易读。一般来说，最好使用三元操作符是在根据条件来赋值的情况下。</p><p>Non-boolean的变量与某东西比较，加上括号()会提高可读性。如果被比较的变量是boolean类型，那么就不需要括号。</p><p><strong>应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">NSInteger</span> <span class="cm-variable">value</span> <span class="cm-operator">=</span> <span class="cm-number">5</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">result</span> <span class="cm-operator">=</span> (<span class="cm-variable">value</span> <span class="cm-operator">!=</span> <span class="cm-number">0</span>) <span class="cm-operator">?</span> <span class="cm-variable">x</span> : <span class="cm-variable">y</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">BOOL</span> <span class="cm-variable">isHorizontal</span> <span class="cm-operator">=</span> <span class="cm-variable">YES</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">result</span> <span class="cm-operator">=</span> <span class="cm-variable">isHorizontal</span> <span class="cm-operator">?</span> <span class="cm-variable">x</span> : <span class="cm-variable">y</span>;</span></pre></div></div></div></div></div></div></div></pre><p><strong>不应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">result</span> <span class="cm-operator">=</span> <span class="cm-variable">a</span> <span class="cm-operator">&gt;</span> <span class="cm-variable">b</span> <span class="cm-operator">?</span> <span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-variable">c</span> <span class="cm-operator">&gt;</span> <span class="cm-variable">d</span> <span class="cm-operator">?</span> <span class="cm-variable">c</span> : <span class="cm-variable">d</span> : <span class="cm-variable">y</span>;</span></pre></div></div></div></div></div></div></div></pre><hr /><h2 ><a name='header-c190' class='md-header-anchor' ></a>Init方法</h2><p>Init方法应该遵循Apple生成代码模板的命名规则。返回类型应该使用<code>instancetype</code>而不是<code>id</code></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=""><span style="padding-right: 0.1px;"><span class="cm-operator">-</span> (<span class="cm-variable">instancetype</span>)<span class="cm-variable">init</span> {</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-variable">self</span> <span class="cm-operator">=</span> [<span class="cm-variable">super</span> <span class="cm-variable">init</span>];</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-keyword">if</span> (<span class="cm-variable">self</span>) {</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-comment">// ...</span></span></pre><pre class=""><span style="padding-right: 0.1px;">  }</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-keyword">return</span> <span class="cm-variable">self</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div></div></pre><hr /><h2 ><a name='header-c194' class='md-header-anchor' ></a>类构造方法</h2><p>当类构造方法被使用时，它应该返回类型是<code>instancetype</code>而不是<code>id</code>。这样确保编译器正确地推断结果类型。</p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">@interface</span> <span class="cm-variable">Airplane</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-operator">+</span> (<span class="cm-variable">instancetype</span>)<span class="cm-variable">airplaneWithType</span>:(<span class="cm-variable">RWTAirplaneType</span>)<span class="cm-variable">type</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">@end</span></span></pre></div></div></div></div></div></div></div></pre><p>关于更多instancetype信息，请查看<a href='http://nshipster.com/instancetype/'   >NSHipster.com</a></p><hr /><h2 ><a name='header-c199' class='md-header-anchor' ></a>CGRect函数</h2><p>当访问<code>CGRect</code>里的<code>x</code>, <code>y</code>, <code>width</code>, 或 <code>height</code>时，应该<a href='http://developer.apple.com/library/ios/#documentation/graphicsimaging/reference/CGGeometry/Reference/reference.html'   >使用CGGeometry函数</a>而不是直接通过结构体来访问。引用Apple的<code>CGGeometry</code>:</p><blockquote><p>在这个参考文档中所有的函数，接受CGRect结构体作为输入，在计算它们结果时隐式地标准化这些rectangles。因此，你的应用程序应该避免直接访问和修改保存在CGRect数据结构中的数据。相反，使用这些函数来操纵rectangles和获取它们的特性。</p></blockquote><p><strong>应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">CGRect</span> <span class="cm-variable">frame</span> <span class="cm-operator">=</span> <span class="cm-variable">self</span>.<span class="cm-variable">view</span>.<span class="cm-variable">frame</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">CGFloat</span> <span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-variable">CGRectGetMinX</span>(<span class="cm-variable">frame</span>);</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">CGFloat</span> <span class="cm-variable">y</span> <span class="cm-operator">=</span> <span class="cm-variable">CGRectGetMinY</span>(<span class="cm-variable">frame</span>);</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">CGFloat</span> <span class="cm-variable">width</span> <span class="cm-operator">=</span> <span class="cm-variable">CGRectGetWidth</span>(<span class="cm-variable">frame</span>);</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">CGFloat</span> <span class="cm-variable">height</span> <span class="cm-operator">=</span> <span class="cm-variable">CGRectGetHeight</span>(<span class="cm-variable">frame</span>);</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">CGRect</span> <span class="cm-variable">frame</span> <span class="cm-operator">=</span> <span class="cm-variable">CGRectMake</span>(<span class="cm-number">0.0</span>, <span class="cm-number">0.0</span>, <span class="cm-variable">width</span>, <span class="cm-variable">height</span>);</span></pre></div></div></div></div></div></div></div></pre><p><strong>不应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">CGRect</span> <span class="cm-variable">frame</span> <span class="cm-operator">=</span> <span class="cm-variable">self</span>.<span class="cm-variable">view</span>.<span class="cm-variable">frame</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">CGFloat</span> <span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-variable">frame</span>.<span class="cm-variable">origin</span>.<span class="cm-variable">x</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">CGFloat</span> <span class="cm-variable">y</span> <span class="cm-operator">=</span> <span class="cm-variable">frame</span>.<span class="cm-variable">origin</span>.<span class="cm-variable">y</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">CGFloat</span> <span class="cm-variable">width</span> <span class="cm-operator">=</span> <span class="cm-variable">frame</span>.<span class="cm-variable">size</span>.<span class="cm-variable">width</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">CGFloat</span> <span class="cm-variable">height</span> <span class="cm-operator">=</span> <span class="cm-variable">frame</span>.<span class="cm-variable">size</span>.<span class="cm-variable">height</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">CGRect</span> <span class="cm-variable">frame</span> <span class="cm-operator">=</span> (<span class="cm-variable">CGRect</span>){ .<span class="cm-variable">origin</span> <span class="cm-operator">=</span> <span class="cm-variable">CGPointZero</span>, .<span class="cm-variable">size</span> <span class="cm-operator">=</span> <span class="cm-variable">frame</span>.<span class="cm-variable">size</span> };</span></pre></div></div></div></div></div></div></div></pre><hr /><h2 ><a name='header-c208' class='md-header-anchor' ></a>黄金路径</h2><p>当使用条件语句编码时，左手边的代码应该是&quot;golden&quot; 或 &quot;happy&quot;路径。也就是不要嵌套<code>if</code>语句，多个返回语句也是OK。</p><p>如果可以请尽早的return，提高效率。</p><p><strong>应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=""><span style="padding-right: 0.1px;"><span class="cm-operator">-</span> (<span class="cm-keyword">void</span>)<span class="cm-variable">someMethod</span> {</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-keyword">if</span> (<span class="cm-operator">!</span>[<span class="cm-variable">someOther</span> <span class="cm-variable">boolValue</span>]) {</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-keyword">return</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;">  }</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-comment">//Do something important</span></span></pre><pre class=""><span style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div></div></pre><p><strong>不应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=""><span style="padding-right: 0.1px;"><span class="cm-operator">-</span> (<span class="cm-keyword">void</span>)<span class="cm-variable">someMethod</span> {</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-keyword">if</span> ([<span class="cm-variable">someOther</span> <span class="cm-variable">boolValue</span>]) {</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-comment">//Do something important</span></span></pre><pre class=""><span style="padding-right: 0.1px;">  }</span></pre><pre class=""><span style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div></div></pre><hr /><h2 ><a name='header-c216' class='md-header-anchor' ></a>错误处理</h2><p>当方法通过引用来返回一个错误参数，判断返回值而不是错误变量。</p><p><strong>应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">NSError</span> <span class="cm-operator">*</span><span class="cm-variable">error</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-operator">!</span>[<span class="cm-variable">self</span> <span class="cm-variable">trySomethingWithError</span>:<span class="cm-operator">&amp;</span><span class="cm-variable">error</span>]) {</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-comment">// Handle Error</span></span></pre><pre class=""><span style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div></div></pre><p><strong>不应该:</strong></p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">NSError</span> <span class="cm-operator">*</span><span class="cm-variable">error</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;">[<span class="cm-variable">self</span> <span class="cm-variable">trySomethingWithError</span>:<span class="cm-operator">&amp;</span><span class="cm-variable">error</span>];</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">error</span>) {</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-comment">// Handle Error</span></span></pre><pre class=""><span style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div></div></pre><p>在成功的情况下，有些Apple的APIs记录垃圾值(garbage values)到错误参数(如果non-NULL)，那么判断错误值会导致false负值和crash。</p><hr /><h2 ><a name='header-c224' class='md-header-anchor' ></a>单例模式</h2><p>单例对象应该使用线程安全模式来创建共享实例。</p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=""><span style="padding-right: 0.1px;"><span class="cm-operator">+</span> (<span class="cm-variable">instancetype</span>)<span class="cm-variable">sharedInstance</span> {</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-keyword">static</span> <span class="cm-variable">id</span> <span class="cm-variable">sharedInstance</span> <span class="cm-operator">=</span> <span class="cm-variable">nil</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-keyword">static</span> <span class="cm-variable">dispatch_once_t</span> <span class="cm-variable">onceToken</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-variable">dispatch_once</span>(<span class="cm-operator">&amp;</span><span class="cm-variable">onceToken</span>, <span class="cm-variable">^</span>{</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-variable">sharedInstance</span> <span class="cm-operator">=</span> [[<span class="cm-variable">self</span> <span class="cm-variable">alloc</span>] <span class="cm-variable">init</span>];</span></pre><pre class=""><span style="padding-right: 0.1px;">  });</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-keyword">return</span> <span class="cm-variable">sharedInstance</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div></div></pre><p>这会防止<a href='http://cocoasamurai.blogspot.com/2011/04/singletons-your-doing-them-wrong.html'   >possible and sometimes prolific crashes</a>.</p><hr /><h2 ><a name='header-c229' class='md-header-anchor' ></a>换行符</h2><p>换行符是一个很重要的主题，因为它的风格指南主要为了打印和网上的可读性。</p><p>例如:</p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26.125px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">self</span>.<span class="cm-variable">productsRequest</span> <span class="cm-operator">=</span> [[<span class="cm-variable">SKProductsRequest</span> <span class="cm-variable">alloc</span>] <span class="cm-variable">initWithProductIdentifiers</span>:<span class="cm-variable">productIdentifiers</span>];</span></pre></div></div></div></div></div></div></div></pre><p>一行很长的代码应该分成两行代码，下一行用两个空格隔开。</p><pre class="md-fences"> <div class="CodeMirror cm-s-default CodeMirror-wrap"><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 26px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">self</span>.<span class="cm-variable">productsRequest</span> <span class="cm-operator">=</span> [[<span class="cm-variable">SKProductsRequest</span> <span class="cm-variable">alloc</span>] </span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-variable">initWithProductIdentifiers</span>:<span class="cm-variable">productIdentifiers</span>];</span></pre></div></div></div></div></div></div></div></pre><hr /><h2 ><a name='header-c236' class='md-header-anchor' ></a>Xcode工程</h2><p>物理文件应该与Xcode工程文件保持同步来避免文件扩张。任何Xcode分组的创建应该在文件系统的文件体现。代码不仅是根据<strong>类型</strong>来分组，而且还可以根据<strong>功能</strong>来分组，这样代码更加清晰。</p><p>尽可能在target的Build Settings打开&quot;Treat Warnings as Errors，和启用以下<a href='http://boredzo.org/blog/archives/2009-11-07/warnings'   >additional warnings</a>。如果你需要忽略特殊的警告，使用 <a href='http://clang.llvm.org/docs/UsersManual.html#controlling-diagnostics-via-pragmas'   >Clang&#39;s pragma feature</a>。</p><h1 ><a name='header-c239' class='md-header-anchor' ></a>其他Objective-C编码规范</h1><p>如果编码规范不符合你的口味，可以参考其他的编码规范提出好的提议：</p><ul><li><a href='https://github.com/RobotsAndPencils/objective-c-style-guide'   >Robots &amp; Pencils</a></li><li><a href='https://github.com/NYTimes/objective-c-style-guide'   >New York Times</a></li><li><a href='https://google.github.io/styleguide/objcguide.xml'   >Google</a></li><li><a href='https://github.com/github/objective-c-conventions'   >GitHub</a></li><li><a href='https://gist.github.com/soffes/812796'   >Sam Soffes</a></li><li><a href='http://cocoadevcentral.com/articles/000082.php'   >CocoaDevCentral</a></li><li><a href='http://www.cimgf.com/zds-code-style-guide/'   >Marcus Zarra</a></li></ul></div>
<div style='display:none;'>undefined</div></body>
</html>